<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Перевірка усного рахунку.</title>
  </head>
  <style>
    body {
      background-color: aliceblue;
    }

    .center {
      text-align: center;
      margin: auto;
    }

    #keyboard {
      text-align: center;
      margin: auto;
      border: 2px solid;
    }
    #mult {
      text-align: center;
      background-color: #b0f567;
      padding: auto;
    }
  </style>
  <script language="JavaScript">
    <!--
    var max_value,
      operand1 = 0;
    var operand2 = 0;
    var result = 0;
    var flag = 0;
    var sign = "+";
    var input = "";
    //10 Вибрати додавання або віднімання
    function set_sign(x) {
      if (x == "+") {
        flag = 0;
        sign = "+";
      }
      if (x == "-") {
        flag = 1;
        sign = "-";
      }
      // Додано множення
      if (x == "*") {
        flag = 2;
        sign = "*";
      }
      return true;
    }
    //16 Визначити перший операнд
    function f_operand() {
      operand1 = Math.floor(Math.random() * max_value);
      return parseInt(operand1);
    }
    //21 Визначити другий операнд
    function s_operand() {
      if (flag == 0) {
        operand2 = Math.floor(Math.random() * (max_value - operand1));
      }
      if (flag == 1) {
        operand2 = Math.floor(Math.random() * operand1);
      } else {
        operand2 = Math.floor(Math.random() * (max_value - operand1));
      }
      return parseInt(operand2);
    }
    //30 Перевірити введені дані
    function input_sign(x) {
      if (x == 10) {
        if (flag == 0) {
          if (operand1 + operand2 == parseInt(input)) {
            window.document.forms["test"].r0.value = "Вірно!";
          } else {
            window.document.forms["test"].r0.value = "Спробуй ще!";
            window.document.forms["test"].input = "";
            input = "";
            //40
          }
        }
        if (flag == 1) {
          if (operand1 - operand2 == parseInt(input)) {
            window.document.forms["test"].r0.value = "Вірно!";
          } else {
            window.document.forms["test"].r0.value = "Спробуй ще!";
            window.document.forms["test"].input = "";
            input = "";
            //50
          }
        }
        return true;
      }
      input += x;
      window.document.forms["test"].result.value = input;
      return true;
    }
    //60 Генерація варіанта
    function main_calc() {
      //alert("main_calc:begin");
      operand1 = f_operand();
      window.document.forms["test"]["op1"].value = operand1;
      operand2 = s_operand();
      window.document.forms["test"]["op2"].value = operand2;
      window.document.forms["test"]["s_sign"].value = sign;
      input = "";
      window.document.forms["test"].input = "";
      window.document.forms["test"]["r0"].value = " ???";
      //70
      return true;
    }
    -->
  </script>

  <body>
    <h1 class="center">Математичний тест</h1>
    <!--80-->
    <hr />
    <form name="test">
      <table class="center">
        <tr>
          <td>
            <input id="d1" type="button" value="0-10" onClick="max_value=10" />
          </td>
          <td>
            <input id="d2" type="button" value="0-20" onClick="max_value=20" />
          </td>
          <td>
            <input
              id="d3"
              type="button"
              value="0-100"
              onClick="max_value=100"
            />
          </td>
          <td>
            <input
              id="d3"
              type="button"
              value="0-500"
              onClick="max_value=500"
            />
          </td>
          <td>
            <input id="plus" type="button" value="+" onClick='set_sign("+")' />
          </td>
          <td>
            <input id="minus" type="button" value="-" onClick='set_sign("-")' />
          </td>
          <td>
            <input id="mult" type="button" value="*" onClick='set_sign("*")' />
          </td>
        </tr>
      </table>
      <hr />
      <!--90-->
      <table class="center">
        <tr>
          <td><input id="op1" size="3" maxlength="3" /></td>
          <td><input id="s_sign" size="1" maxlength="1" /></td>
          <td><input id="op2" size="3" maxlength="3" /></td>
          <td>=</td>
          <td><input id="result" size="4" maxlength="4" /></td>
          <td>
            <input id="award" type="button" value="?" onClick="main_calc()" />
          </td>
          <td><input id="r0" value="???" /></td>
        </tr>
      </table>
      <hr />
      <!--100-->
      <table id="keyboard">
        <tr>
          <td>
            <input id="b1" type="button" value="1" onClick='input_sign("1")' />
          </td>
          <td>
            <input id="b2" type="button" value="2" onClick='input_sign("2")' />
          </td>
          <td>
            <input id="b3" type="button" value="3" onClick='input_sign("3")' />
          </td>
        </tr>
        <tr>
          <td>
            <input id="b4" type="button" value="4" onClick='input_sign("4")' />
          </td>
          <td>
            <input id="b5" type="button" value="5" onClick='input_sign("5")' />
          </td>
          <td>
            <input id="b6" type="button" value="6" onClick='input_sign("6")' />
          </td>
        </tr>
        <tr>
          <td>
            <input id="b7" type="button" value="7" onClick='input_sign("7")' />
          </td>
          <td>
            <input id="b8" type="button" value="8" onClick='input_sign("8")' />
          </td>
          <td>
            <input id="b9" type="button" value="9" onClick='input_sign("9")' />
          </td>
        </tr>
        <tr>
          <td>
            <input id="b0" type="button" value="0" onClick='input_sign("0")' />
          </td>
          <td colspan="2">
            <input
              id="bs"
              type="button"
              value="OK"
              onClick='input_sign("10")'
            />
          </td>
        </tr>
      </table>
    </form>
    <hr />
  </body>
</html>
